#########################################################################
FreePWING program for convert ASAHI Shuppansha's E-DIC EJ/JE 2nd edition.
#########################################################################

:author: MURAMATSU Atsushi <amura@tomato.sakura.ne.jp>
:date: 2020-10-30

=========         
これは何?
=========

朝日出版社が出している、「E-DIC 英和|和英 第2版」の辞書をCSVにダン
プしたデータ（以下E-DIC2）から、 `FreePWING`_ を利用してJIS X 4081
形式の辞書に変換するツールです。

.. _FreePWING: ftp://ftp.sra.co.jp/pub/misc/freepwing/

============
インストール
============

下記のソフトウェアが必要です。

* `FreePWING`_
  
  もちろん。

* Perl
  
  Encodeモジュールのfrom_to関数で、'utf-8'と'euc-jp'との変換が行え
  る状態にしてください。
  
  perl 5.8以降では標準の状態で利用可能になっているはずです。
  また、 `Compress::Raw::Zlib`_ と `Text::CSV_XS`_
  モジュール も必要です。

.. _Compress::Raw::Zlib: http://search.cpan.org/dist/Compress-Raw-Zlib/
.. _Text::CSV_XS: http://search.cpan.org/dist/Text-CSV_XS/

* `edic2conv`_

  E-DIC2の辞書データをCSVに変換するために必要です。
  
.. _edic2conv: https://bitbucket.org/rubyu/edic2conv/

このツール自体のインストールは任意のディレクトリに展開するだけです。

======
使い方
======

変換準備
--------

データの準備
^^^^^^^^^^^^

変換ツールを展開したディレクトリ内の ``edic2_csv`` に、E-DIC2 の
CD-ROM 上のデータを、 `edic2conv`_ を使って CSV
に変換した物を置きます。

必要なファイルは、辞書一つに CSV ファイル一つです。

設定
^^^^

追加辞書がある場合は、 ``config.mk`` の ``HAS_EXTEND_DICS`` のコメ
ントアウトを外してください。

変換
----

.. code:: sh
   
   fpwmake

で辞書(HONMON ファイル)を

.. code:: sh

   fpwmake package

で辞書をパッケージしたzipファイルを生成します。

これらのファイルはパッケージ化した際にパッケージに同梱されますが、
パッケージが zip ファイルの場合はファイル名が大文字になってしまい
ます。

==========
ライセンス
==========

プログラムのライセンスはMITライセンスに従います。
同梱の LICENSE ファイルを参照して下さい。

本ツールで変換された書籍は、
元の書籍のライセンスに従う必要があります。
正当な権利の範囲内で利用してください。

======
制限等
======

リンクに関する制限
------------------

辞書によっては、E-DIC2 内の別の辞書へのリンクがある物もありますが、
EPWING の機能的な制限から、別の辞書へのリンクは張られません。

JIS X 4081の書籍に収録できない文字について
------------------------------------------

収録できる他の文字に変えています（外字は使っていません）。
丸数字などは、すべて丸括弧付き数字に置き換えています。

追加辞書について
----------------

E-DIC2 の特徴の一つである追加辞書の変換については、
チェックしていません。

====
謝辞
====

このプログラムは、ruby-U さんの `edic2conv`_
が無ければ成り立たない代物です。

またこのプログラム作成には、同氏の `edic2epwing`_
も参考にさせていただきました。ここにお礼申し上げます。

.. _edic2epwing: https://github.com/rubyu/edic2epwing
